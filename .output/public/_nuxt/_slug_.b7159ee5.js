import{d as m,H as k,e as l,G as x,k as c,I as C,C as S,l as _,z as a,m as p,t as i,q,A,D as w}from"./entry.99fb06b2.js";import{g as B,f as D}from"./groq.51e895fc.js";import{_ as g}from"./_plugin-vue_export-helper.c27b6911.js";const $=s=>s._type==="span",b={types:{span:"span",image:"img"},marks:{strong:"strong",em:"em",link:"a"},styles:{h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",normal:"p",blockquote:"blockquote"},listItem:"li",container:"div"},E=["abbr","accesskey","accessKey","action","alt","autocomplete","autofocus","autoplay","charset","checked","cite","class","cols","colspan","command","content","datetime","default","disabled","download","draggable","dropzone","headers","height","hidden","href","hreflang","id","maxlength","minlength","muted","placeholder","preload","radiogroup","readonly","required","role","selected","src","srcdoc","srcset","tabindex","title","value","width","wrap"];function O(s,t){return s!=null&&s.listItem&&s._type!=="list"?t.listItem||"li":s!=null&&s._type?t.types[s._type]||t.marks[s._type]:void 0}function j(s,t,e){const n=s.style&&t.styles[s.style],r=v(s,typeof n=="string");return!s.listItem&&s.style&&n?l(n,r,{default:e}):e==null?void 0:e()}function N(s,t){return f(t,s,()=>(s.children||[]).map(e=>$(e)?d(e.text,e.marks,t,s.markDefs):f(t,e,()=>d(e.text,e.marks,t,s.markDefs))))}function d(s,[t,...e]=[],n,o=[]){if(!t)return s;const r=t in n.marks?{_type:t,_key:""}:o.find(u=>u._key===t);return f(n,r,()=>d(s,e,n,o))}function h(s,t){if(!t.listItem)return s.push(t),s;const e=s[s.length-1]||{};return e._type!=="list"||!e.children||t.level===1&&t.listItem!==e.listItem?(s.push({_type:"list",listItem:t.listItem,level:t.level,children:[t]}),s):t.level===e.level&&t.listItem===e.listItem?(e.children.push(t),s):(h(e.children,t),s)}function f(s,t,e){const n=O(t,s);if(!n)return e==null?void 0:e();if(!t)return;const o=typeof n=="string",r=v(t,o);return o?l(n,r,e==null?void 0:e()):l(n,r,{default:()=>e==null?void 0:e()})}function v(s,t){return Object.fromEntries(Object.entries(s).filter(([e])=>e!=="_type"&&e!=="markDefs").map(([e,n])=>e==="_key"?["key",n||null]:!t||E.includes(e)?[e,n]:[]))}function y(s,t){return s.map(e=>j(e,t,()=>N(e,t)))}const L=m({name:"SanityContent",props:{blocks:{type:Array,default:()=>[]},serializers:{type:Object,default:()=>({})}},setup(s){const t=k(s.serializers,b);return t.types.list=t.types.list||V(t),()=>{var e;return y(((e=s.blocks)==null?void 0:e.reduce(h,[]))||[],t)}}}),V=s=>m({name:"ListComponent",inheritAttrs:!1,props:{children:{type:Array,default:()=>[]},level:{type:Number,default:1}},setup(t){return()=>{var n;const e=((n=t.children[0])==null?void 0:n.listItem)==="number";return t.level>1?l(s.listItem||"li",[l(e?"ol":"ul",{},{default:()=>y(t.children,s)})]):l(e?"ol":"ul",{},{default:()=>y(t.children,s)})}}}),F={props:{blocks:{type:Array,required:!0}}};function G(s,t,e,n,o,r){const u=L;return c(),x(u,{blocks:e.blocks},null,8,["blocks"])}const I=g(F,[["render",G]]),H={class:"post"},K=["src"],M={key:1,class:"post__cover--none"},P={class:"post__container"},Q={class:"post__title"},R={class:"post__excerpt"},z={class:"post__date"},J={key:0,class:"post__content"},T={props:{post:{type:Object,required:!0}},components:{BlockContent:I}},U=m({...T,__name:"[slug]",async setup(s){let t,e;const n=C(),o=B`*[ _type == "post" && slug.current == $slug][0]`,{data:r}=([t,e]=S(()=>w(o,{slug:n.params.slug})),t=await t,e(),t);return(u,W)=>(c(),_("section",H,[a(r).mainImage?(c(),_("img",{key:0,class:"post__cover",src:u.$urlFor(a(r).mainImage).width(1920).url(),alt:"Cover image"},null,8,K)):(c(),_("div",M)),p("div",P,[p("h1",Q,i(a(r).title),1),p("p",R,i(a(r).excerpt),1),p("p",z,i(("formatDate"in u?u.formatDate:a(D))(a(r)._createdAt)),1),a(r).body?(c(),_("div",J,[q(I,{blocks:a(r).body},null,8,["blocks"])])):A("",!0)])]))}});const tt=g(U,[["__scopeId","data-v-ff0937a4"]]);export{tt as default};
